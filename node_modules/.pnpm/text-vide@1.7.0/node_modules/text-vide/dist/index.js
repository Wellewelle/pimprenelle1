"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const h=t=>t==null||t==="",m=(t,n)=>Object.keys(t).reduce((e,s)=>(n(e[s])&&delete e[s],e),t),I=(t,n)=>({...n,...m(t,h)}),E=["<b>","</b>"],x=1,_=!0,A=t=>I(t,{sep:E,fixationPoint:x,ignoreHtmlTag:_}),T=[[0,4,12,17,24,29,35,42,48],[1,2,7,10,13,14,19,22,25,28,31,34,37,40,43,46,49],[1,2,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49],[0,2,4,5,6,8,9,11,14,15,17,18,20,0,21,23,24,26,27,29,30,32,33,35,36,38,39,41,42,44,45,47,48],[0,2,3,5,6,7,8,10,11,12,14,15,17,19,20,21,23,24,25,26,28,29,30,32,33,34,35,37,38,39,41,42,43,44,46,47,48]],R=(t,n)=>{const{length:o}=t,e=T[n-1]??T[0],s=e.findIndex(i=>o<=i);let c=o-s;return s===-1&&(c=o-e.length),Math.max(c,0)},p=(t,n)=>typeof n=="string"?`${n}${t}${n}`:`${n[0]}${t}${n[1]}`,H=/(<!--[\s\S]*?-->)|(<[^>]*>)/g,O=t=>{const n=t.matchAll(H),e=y(n).reverse();return s=>{const c=s.index,i=e.find(([l])=>c>l);if(!i)return!1;const[,r]=i;return c<r}},y=t=>[...t].map(n=>{const o=n.index,[e]=n,{length:s}=e;return[o,o+s-1]}),N=/(\p{L}|\p{Nd})*\p{L}(\p{L}|\p{Nd})*/gu,F=(t,n={})=>{if(!(t!=null&&t.length))return"";const{fixationPoint:o,sep:e,ignoreHtmlTag:s}=A(n),c=t.matchAll(N);let i="",r=0,a;s&&(a=O(t));for(const d of c){if(a==null?void 0:a(d))continue;const[u]=d,g=d.index,L=g+R(u,o),f=t.slice(r,g);i+=f,g!==L&&(i+=p(t.slice(g,L),e)),r=L}const l=t.slice(r);return i+l};exports.textVide=F;
